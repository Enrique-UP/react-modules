<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="./font-awesome.min.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<style type="text/css">
*{padding:0;margin:0;box-sizing: border-box;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;}
body{font-family: arial;}

.bodyHeight{width:100%;height:2000px;float:left;}

.autoOpenPopup { position:fixed; top:0; left:0; width:100%; height:100%; z-index:100000000; display:none;line-height: 1.3;}
.autoOpenPopup > div { position:absolute; top:0; left:0; width:100%; height:100%; display:flex; align-items:center; justify-content:center; background:rgba(0, 0, 0, 0.7); }
.autoOpenPopup > div > div { width:800px; display:flex; flex-wrap:wrap; transform:scaleY(0); -webkit-transform:scaleY(0); transform-origin:bottom; -webkit-transform-origin:bottom; transition:all 0.5s; -webkit-transition:all 0.5s;}
.autoOpenPopup div > div.active { transform:scaleY(1); -webkit-transform:scaleY(1); transition:all 0.5s; -webkit-transition:all 0.5s; }
.autoOpenPopup > div > div > i { position:absolute; top:0; right:0;width:50px; height:50px;color:#000;font-size:20px;display:flex; justify-content:center; align-items:center; cursor:pointer;opacity: 0.3;transition:0.3s linear;-webkit-transition:0.3s linear;-moz-transition:0.3s linear;}
.autoOpenPopup > div > div > i:hover{opacity: 1;}

.autoOpenPopup div.main_popup{width:100%;float:left;text-align: left;padding:60px 200px 50px 60px;background:#fff;border-radius: 10px;-webkit-border-radius: 10px;-moz-border-radius: 10px;}
.autoOpenPopup div.main_popup p{width:100%;float:left;margin-bottom: 10px;font-size: 14px;color:#191919;}
.autoOpenPopup div.main_popup p.head{font-size: 30px;color:#fff;}
.autoOpenPopup div.main_popup p.back_head{font-size: 55px;font-weight: bold;text-transform: uppercase;color: #4387fd;line-height: 1.1;}
.autoOpenPopup div.main_popup p.sub_head{font-size: 32px;}
.autoOpenPopup div.main_popup p.sub_head1{font-size: 26px;color:#4b5760;}
.autoOpenPopup div.main_popup p.text{font-size: 22px;margin-bottom: 30px;}
.autoOpenPopup div.main_popup p.phone_number{text-align: center;display: flex;justify-content: start;}
.autoOpenPopup div.main_popup p.phone_number > a{color: #fff;width: auto;float:left;padding: 15px 30px;font-style: normal;font-size: 24px;font-weight: bold;background:#fc4242;text-decoration: none;border-radius: 5px;-webkit-border-radius: 5px;-moz-border-radius: 5px;}
.autoOpenPopup div.main_popup p.unpublished{font-size: 12px;}
.autoOpenPopup img.call_center{width: 315px;position: absolute;bottom: 0;right: 0px;}

@media (min-width:768px) and (max-width:991px)
{
    .autoOpenPopup > div > div{width:735px;}
    .autoOpenPopup img.call_center{width:280px;}
    .autoOpenPopup div.main_popup{padding:60px 175px 50px 60px;border-width: 40px;}
    .autoOpenPopup div.main_popup p.back_head{font-size: 50px;}
    .autoOpenPopup div.main_popup p.phone_number > a{padding:10px 30px;font-size: 26px;}
    .autoOpenPopup div.main_popup p.sub_head {font-size: 28px;}
    .autoOpenPopup div.main_popup p.sub_head1 {font-size: 24px;}
    .autoOpenPopup div.main_popup p.text {font-size: 20px;}
}
@media(max-width:767px)
{
    .autoOpenPopup div.main_popup {padding:40px 15px 170px;border-width: 10px;text-align: center;overflow: hidden;}
    .autoOpenPopup > div > div { width:310px; }
    .autoOpenPopup div.main_popup p.head{font-size: 20px;} 
    .autoOpenPopup div.main_popup p.back_head{font-size: 28px;}
    .autoOpenPopup div.main_popup p.sub_head{font-size: 17px;}
    .autoOpenPopup div.main_popup p.sub_head1{font-size: 16px;}
    .autoOpenPopup div.main_popup p.text{font-size: 14px;margin-bottom: 15px;}
    .autoOpenPopup div.main_popup p.phone_number > a{font-size: 16px;padding:12px 15px;line-height: 1;}
    .autoOpenPopup > div > div > i{opacity: 0.7;color:#999;}
    .autoOpenPopup img.call_center {width: 100%;left:0;margin:auto;bottom:0;right:0;background:#f0f0f0;padding:10px 90px 0;border-radius: 0 0 10px 10px;-webkit-border-radius: 0 0 10px 10px;-moz-border-radius: 0 0 10px 10px;}
    .autoOpenPopup div.main_popup p.phone_number {justify-content: center;}
}
</style>
</head>
<body>
  <div class="bodyHeight">scroll footer to header then popup show</div>
<div class="autoOpenPopup">
  <div>
    <div>
        <i class="fa fa-times"></i>
        <div class="main_popup">
            <p class="back_head">Troubleshoot All Errors Here</p>
            <p class="sub_head">Get Guidance To Fix Issues</p>
            <p class="sub_head1">Free Diagnosis Anytime Anywhere</p>
            <p class="text">Call Now</p>
            <p class="phone_number">
                <a href="tel:+1-000-000-0000" target="_blank"><i class="fa fa-phone"></i> +1-000-000-0000</a>
            </p>
            <img src="../banner1.jpg" class="call_center" />
        </div><!--main_popup-->
    </div><!---->
  </div><!---->
</div><!--autoOpenPopup-->
<script src="./jquery-2.2.4.min.js"></script>
<script type="text/javascript">
  window.onload = function () {
      setTimeout(function(){
        $(".autoOpenPopup").show();
      },1000);
      setTimeout(function(){
        $(".autoOpenPopup>div>div").addClass('active')
      },1200);
      setInterval(function(){
        $(".autoOpenPopup").show();
      },60000);
      setInterval(function(){
        $(".autoOpenPopup>div>div").addClass('active')
      },62000);
    //}
  }
  $(document).ready(function(){
    $(".autoOpenPopup>div>div>i").click(function(){
      $(".autoOpenPopup>div>div").removeClass('active');
      setTimeout(function(){
        $(".autoOpenPopup").hide();
      },500);
    })
  })
  
  $(function () {
    var $win = $(window);
    
    $win.scroll(function () {
        if ($win.scrollTop() == 0){
          var localVal= sessionStorage.getItem('openPop');
          if(localVal != null){
            sessionStorage.removeItem('openPop');
            $(".autoOpenPopup").show();
            setTimeout(function(){ 
              $(".autoOpenPopup>div>div").addClass('active')
            },200);
          }
        }
        else if ($win.height() + $win.scrollTop() == $(document).height()) {
          sessionStorage.setItem('openPop','PopupSaved');
        }
    });
  });
    
    
$(function () {
    var $win = $(window);
    var scrollHeight = $(document).height();
	var scrollPosition = $(window).height() + $(window).scrollTop();

    
    $win.scroll(function () {
        if ($win.scrollTop() == 0){
          var localVal = sessionStorage.getItem('openPop');
          //console.log('Scrolled to Page Top');
          if(localVal != null){
            sessionStorage.removeItem('openPop');
            //console.log('localVal: '+ localVal);
            $(".autoOpenPopup").show();
			$(".autoOpenPopup>div>div").addClass('vivify popIn');
          }
        }
        else if ($win.height() + $win.scrollTop() >= ( $(document).height() - 100 ) ) {
        //else if( (scrollHeight - scrollPosition) / scrollHeight === 0 ){
          //console.log('Scrolled to Page Bottom');
          console.log($win.height() + $win.scrollTop());
          console.log(( $(document).height() - 100 ));
          sessionStorage.setItem('openPop','PopupSaved');
        }

		if($(window).scrollTop() + $(window).height() >= ($(document).height() - 50 ) ) {
      // alert("bottom!");
      	  if( iOS() ){
       		$(".autoOpenPopup").show();
			$(".autoOpenPopup>div>div").addClass('vivify popIn');
		  }
   		}

      });
    });
</script>
    </body>
</html>