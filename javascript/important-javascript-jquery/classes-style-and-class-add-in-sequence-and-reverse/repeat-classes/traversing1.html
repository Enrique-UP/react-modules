<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Document</title>
	<style type="text/css">
		*{padding:0;margin: 0;box-sizing: border-box;}
		:root{
			--one: #d62828;
			--two: #f77f00;
			--three: #fcbf49;
			--four: lightseagreen;
			--five:blue;
			--six:magenta;
			--seven:orange;
			--eight:purple;
			--grey:#333;
			--brown:brown;
		}
		body{font-family: Arial, Helvetica, sans-serif;font-size: 14px;line-height: 1.5;}
		.one{background: var(--one);color:white;}
		.two{background: var(--two);color:white;}
		.three{background: var(--three);color:white;}
		.four{background: var(--four);color:white;}

		.traversing{display: flex;flex-direction: column;width:300px;margin:50px auto 0;}
		.traversing > li{list-style: none;display: flex;flex-direction: column;border: 5px solid var(--brown);}
		.traversing > li:not(:last-child){margin-bottom: 30px;}
		.traversing > li p{text-align: center;padding:15px;}
		.traversing > li p > span{display: block;position: relative;}
		.traversing > li p > span::before{content:"";background: var(--brown);position:absolute;top:0;left:0;width:100%;height:100%;}
		.traversing > li p > span > span{color:white;padding:10px 10px 30px;position:relative;display: block;}
		.traversing > li button{height: 40px;font-size:14px;background: #003049;color:white;border:none;outline:none;cursor: pointer;}
	</style>
</head>
<body>
	<p class="one">Lorem</p>
	<p class="two">Lorem</p>
	<p class="three">Lorem</p>
	<p class="four">Lorem</p>
	<ul class="traversing"></ul>
	<!-- <p id="demo"></p> -->
    
	<script>
		(function(){
			let listContent =  "";
			const list = [
				{
					text: 'Lorem ipsum dolor sit amet <i>consectetur</i> adipisicing elit. Corrupti, voluptatum.'
				},
				{
					text: 'Lorem ipsum dolor sit amet <i>consectetur</i> adipisicing elit. Corrupti, voluptatum.'
				},
				{
					text: 'Lorem ipsum dolor sit amet <i>consectetur</i> adipisicing elit. Corrupti, voluptatum.'
				},
				{
					text: 'Lorem ipsum dolor sit amet <i>consectetur</i> adipisicing elit. Corrupti, voluptatum.'
				},
				{
					text: 'Lorem ipsum dolor sit amet <i>consectetur</i> adipisicing elit. Corrupti, voluptatum.'
				},
				{
					text: 'Lorem ipsum dolor sit amet <i>consectetur</i> adipisicing elit. Corrupti, voluptatum.'
				},
				{
					text: 'Lorem ipsum dolor sit amet <i>consectetur</i> adipisicing elit. Corrupti, voluptatum.'
				},
				{
					text: 'Lorem ipsum dolor sit amet <i>consectetur</i> adipisicing elit. Corrupti, voluptatum.'
				},
				{
					text: 'Lorem ipsum dolor sit amet <i>consectetur</i> adipisicing elit. Corrupti, voluptatum.'
				},
				{
					text: 'Lorem ipsum dolor sit amet <i>consectetur</i> adipisicing elit. Corrupti, voluptatum.'
				}
			];
			list.forEach(function(e){
				listContent += `<li>
					<p>
						<span><span>${e.text}</span></span>
					</p>
					<button>Click</button>
				</li>`;
			});
			document.querySelector(".traversing").innerHTML += listContent;
			




			var li = document.querySelectorAll(".traversing > li");
			//document.querySelector(".traversing > li").style.setProperty("--brown", "var(--two)");
			const colors = [
				{
					color: "var(--one)"
				},
				{
					color: "var(--two)"
				},
				{
					color: "var(--three)"
				},
				{
					color: "var(--four)"
				},
				{
					color: "var(--five)"
				},
				{
					color: "var(--six)"
				},
				{
					color: "var(--seven)"
				},
				{
					color: "var(--eight)"
				}
			];
			let name = "";
			for(var i = 0; i < colors.length; i++){
				name = colors[i].color;
				for(var j = 0; j < li.length; j++){
					li[i].style.setProperty("--brown", name);
				}
			}
		})();
	</script>
</body>
</html>