<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Marquee Dynamic by Animation</title>
    <style type="text/css">
        *{padding:0;margin:0;box-sizing: border-box;}
        body{font-family: Arial, Helvetica, sans-serif;font-size: 14px;line-height: 1.5;}
        .container{width:80%;margin:100px auto;background: #333;color:#fff;overflow: hidden;}
        .marquee{width:auto;float:left;padding:10px 0;margin:0 0 0 50%;display: flex;flex-direction: row;flex-wrap:nowrap;white-space: nowrap;justify-content: start;overflow: hidden;animation:marquee 60s linear infinite;-webkit-animation:marquee 60s linear infinite;-moz-animation:marquee 60s linear infinite;
        }
        .marquee:hover{animation-play-state: paused;-webkit-animation-play-state: paused;-moz-animation-play-state: paused;}
        @keyframes marquee {
            to   {margin-left:var(--x);}
        }
        @-webkit-keyframes marquee {
            to   {margin-left:var(--x);}
        }
        @-moz-keyframes marquee {
            to   {margin-left:var(--x);}
        }
        .marquee > li{width:auto;float:left;list-style: square;list-style-position: inside;padding-right: 50px;}
        .marquee > li:last-child{padding-right: 0;}
        .clear{clear:both;}
        @media (max-width:767px){
            .container{width:100%;}
        }
    </style>
</head>
<body>
    <div class="container" id="container">
        <ul class="marquee" id="marquee">
            <li>Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus atque, iste molestiae delectus 1.</li>
            <li>Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus atque, iste molestiae delectus 2.</li>
            <li>Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus atque, iste molestiae delectus 3.</li>
            <li>Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus atque, iste molestiae delectus 4.</li>
        </ul>
        <div class="clear"></div>
    </div><!--container-->
    <script type="text/javascript">
        function marquee(){
            // var container = document.getElementById("container").offsetWidth;
            var id = document.getElementById("marquee");
            var totalLiWidth = 0;
            for (var i = 0; i < id.children.length; i++){
                totalLiWidth += id.children[i].offsetWidth;
            }
            console.log("totalLiWidth = " + totalLiWidth);
            totalLiWidth = totalLiWidth - (5/100 * totalLiWidth);
            console.log("totalLiWidth = " + totalLiWidth);
            id.style.setProperty("--x", -totalLiWidth + "px");
            // with jquery $(this).closest(".project.active").find("img").get(0).style.setProperty("--mt", -mt + "px");
            // .get(0).style.setProperty("--mt", -mt + "px");
            var time = totalLiWidth/100;
            id.style.animationDuration = time + "s";
            // console.log(container);
        }
        window.addEventListener("load", marquee);
        window.addEventListener("resize", marquee);
    </script>
</body>
</html>