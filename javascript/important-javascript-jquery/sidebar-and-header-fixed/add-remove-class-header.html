<!DOCTYPE html>
<html>
    <style type="text/css">
        *{padding:0;margin:0;box-sizing: border-box;}
        body{font-family: Arial, Helvetica, sans-serif;}
        main{width:100%;float:left;}
        .header{width:100%;float:left;background: #ccc;padding:30px 15px;transform:translateY(0px);transition:0.5s;}
        .header.active{background: #999;position: fixed;top:0;left:0;animation:0.5s ease-in-out top;transition:0.5s ease;}
        @keyframes top {
            from {transform:translateY(-78px);}
            to {transform:translateY(0);}
        }
        .margin_bottom{width:100%;float:left;margin-bottom: 4000px;}
        .footer{width:100%;float:left;background: #333;padding:500px 0;}
    </style>
<body>
<main>
    <div class="header" id="header">Header</div>
    <div class="margin_bottom"></div>
    <div class="footer" id="footer">Footer</div>
</main>
<script>
    //const navbar = document.querySelector('section .right .js_area');

    var main = document.querySelector("main").offsetHeight;
    console.log("main = " + main);

    var header = document.querySelector(".header").offsetHeight;
    console.log("header = " + header);

    var footer = document.querySelector(".footer").offsetHeight;
    console.log("footer = " + footer);

    const onScroll = () => {    
        const scroll = document.body.scrollTop || document.documentElement.scrollTop
        if (scroll >= header && scroll <= main - footer - header) {
            document.querySelector(".header").classList.add("active");
        }
        else {
            document.querySelector(".header").classList.remove("active");
        }
    }
    window.addEventListener('scroll', onScroll);
</script>
</body>
</html>
