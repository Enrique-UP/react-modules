<!DOCTYPE html>
<html lang="en">
<head>
    <style type="text/css">
        .field{margin-bottom: 20px;display: flex;flex-direction: column;}
        .field > span{width:200px;background: brown;color:white;margin-bottom: 10px;padding:10px;cursor: pointer;}
        a{display: flex;text-decoration: none;background: black;color:white;width:100px;justify-content: center;padding:10px 0;;}
    </style>
</head>
<body>
    <h1>
        Use sessionStorage for opening same tab.<br>
        Use localStorage for opening other tab.
    </h1>
    <h1>Always use with https or xampp localhost otherwise this will not work on firefox.</h1>
    <div class="field">
        <span>1</span>
        <span>2</span>
        <span>3</span>
        <span>4</span>
    </div>
    <a href="">Click here</a>

    <script>
        (function(){
            const span = document.querySelectorAll(".field > span");
            var text = "";
            var link = "text.html?child-";
            //var data=[];
            span.forEach(function(e){
                e.addEventListener("click", function(){
                    text = e.innerText;
                    window.localStorage.setItem("number", text);
                    document.querySelector("a").href = link + window.localStorage.getItem("number");
                    document.querySelector("a").style.display = "flex";
                    
                    // for creating json object
                    // var head = $(this).closest(".box").html();
                    // var text  = $(this).find("b").html();
                    // data.push({"Box Head":head,"Box Text":text});

                    // data.push(link + window.localStorage.getItem("number"));
                    // window.localStorage.setItem("sd",JSON. stringify(data) );
                });
            });
            if(window.localStorage.getItem("number")){
                document.querySelector("a").href = link + window.localStorage.getItem("number");
            }else{
                document.querySelector("a").style = "display:none";
            }
            // }else if(document.querySelector("a").getAttribute("href") === ""){
            //     document.querySelector("a").style = "display:none";
            // }            
        })();
   </script> 
</body>
</html>